<%= form_with model: restaurant, url: [owner, restaurant] do |f| %>
  <div class="md:flex md:items-center mb-6">
    <label
      for="restaurant_name"
      class="block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4">
      Nome
    </label>
    <%= f.text_field :name, class: 'form-input w-full' %>
  </div>

  <div class="md:flex md:items-center mb-6">
    <label
      for="restaurant_code"
      class="block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4">
      Código de acesso para os funcionários
    </label>
    <%= f.text_field :code, class: 'form-input w-full' %>
  </div>

  <div class="md:flex md:items-center mb-6">
    <label
      for="restaurant_code"
      class="block text-gray-500 font-bold mb-1 md:mb-0 pr-4 inline">
      Cor
    </label>
    <div class="flex w-full justify-end">
      <% restaurants_colors.each do |color| %>
        <div data-value="<%=color%>"
             class="bg-<%=color%>-400 rounded-full border-2 border-gray-400
                    hover:border-gray-600 w-6 h-6 m-3 restaurant-color-select">
        </div>
      <% end %>
      <%= f.hidden_field :color, id: 'restaurant-color-input' %>
    </div>
  </div>

  <div class="md:flex md:items-center mb-6">
    <label
      for="restaurant_code"
      class="block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4 inline">
      Descrição
    </label>
    <%= f.text_field :description, class: 'form-input w-full' %>
  </div>

  <div class="md:flex md:items-center">
    <%= f.submit 'Salvar', class: 'w-full form-button bg-blue-600 hover:bg-blue-500
      focus:shadow-outline' %>
  </div>
<% end %>

<script>
colors = document.querySelectorAll('.restaurant-color-select')
color_input = document.getElementById('restaurant-color-input')

colors.forEach(color => {
  color.addEventListener('click', el => {
    colors.forEach(c => c.classList.remove('color-selected'))
    el.target.classList.add('color-selected')
    color_input.value = color.dataset.value
  })
})
</script>
